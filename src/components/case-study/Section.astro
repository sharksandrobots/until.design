---
// components/Section.astro
const { type, title, subhead, class: className = '' } = Astro.props;
---

{title && (
  <div class="section-label">
    <h2 class="project-section-header">{title}</h2>
  </div>
)}

<section class={`section section-${type} ${className}`}>
  {subhead && <h3 class="section-subhead">{subhead}</h3>}
  <div class="section-content">
    <slot />
  </div>
</section>

<style is:global>
  .section-label {
    max-width: 80vw;
    margin: 0 auto;
    padding: var(--space-4) 0 var(--space-4) 0;
  }
  
  .project-section-header {
    font-size: var(--fs-base);
    font-weight: 500;
    color: var(--colors-text-primary);
    border-top: 1px solid var(--colors-border-moderate);
    padding-top: var(--space-1);
    margin-bottom: 0;
  }
  
  .section {
    max-width: 80vw;
    margin: 0 auto;
    padding: 0 0 var(--space-4) 0;
  }
  
  .section-content {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    column-gap: var(--space-6);
  }
  
  /* Overview and Context sections - copy in columns 2-4 */
  .section-overview .section-content > *,
  .section-context .section-content > * {
    grid-column: 2 / 5;
  }
  
  /* Work section - copy in columns 2-4 */
  .section-work .section-content > * {
    grid-column: 2 / 5;
  }
  
  /* Impact section spans all columns */
  .section-impact .section-content > * {
    grid-column: 1 / -1;
  }
  
  .section-subhead {
    font-size: var(--fs-lg);
    font-weight: 600;
    color: var(--colors-text-secondary);
    margin-bottom: var(--space-4);
    grid-column: 2 / 5;
  }
  
  .section-impact .section-subhead {
    grid-column: 1 / -1;
  }
  
  /* Typography within sections */
  .section-content h2 {
    font-size: var(--fs-xl);
    font-weight: 500;
    margin: var(--space-4) 0 var(--space-4) 0;
    color: var(--colors-text-primary);
  }
  
  .section-content h3 {
    font-size: var(--fs-md);
    font-weight: 500;
    margin: var(--space-2) 0 var(--space-2) 0;
    color: var(--colors-text-primary);
  }
  
  .section-content p {
    margin: 0 0 var(--space-4) 0;
    line-height: 1.6;
    color: var(--colors-text-primary);
    font-size: var(--fs-base);
  }
  
  .section-content ul {
    margin: 0 0 var(--space-4) 0;
    list-style: none;
    padding-left: 0;
  }
  
  .section-content li {
    position: relative;
    padding-left: var(--space-2);
    margin: 0 0 var(--space-2) 0;
    color: var(--colors-text-primary);
  }
  
  .section-content li::before {
    content: var(--list-dash);
    position: absolute;
    left: 0;
    color: var(--list-dash-color);
  }
  
  @media (max-width: 768px) {
    .section-label,
    .section {
      max-width: 90vw;
    }
    
    .section-content {
      grid-template-columns: 1fr;
    }
    
    .section-content > *,
    .section-subhead {
      grid-column: 1 !important;
    }
  }
</style>